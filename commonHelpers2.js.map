{"version":3,"file":"commonHelpers2.js","sources":["../src/01/images-01.js"],"sourcesContent":["import axios from 'axios';\nimport iziToast from 'izitoast';\nimport 'izitoast/dist/css/iziToast.min.css';\nimport SimpleLightbox from 'simplelightbox';\nimport 'simplelightbox/dist/simple-lightbox.min.css';\n\n\nconst API_KEY = '45072891-a2b62f681812c134104bf6075';\nconst API_URL = 'https://pixabay.com/api/';\n\n\nfunction showLoader() {\n    const loader = document.querySelector('.loading');\n    if (loader) {\n        loader.style.display = 'flex'; \n    }\n}\n\nfunction hideLoader() {\n    const loader = document.querySelector('.loading');\n    if (loader) {\n        loader.style.display = 'none';\n    }\n}\n\n\nasync function fetchImages(query) {\n    try {\n        const response = await axios.get(API_URL, {\n            params: {\n                key: API_KEY,\n                q: query,\n                image_type: 'photo',\n                orientation: 'horizontal',\n                safesearch: 'true'\n            }\n        });\n\n        const { hits } = response.data;\n\n        if (hits.length === 0) {\n            iziToast.error({\n                title: 'No results',\n                message: 'Sorry, there are no images matching your search query. Please try again!',\n                position: 'topRight'\n            });\n            return [];\n        }\n\n        return hits;\n    } catch (error) {\n        iziToast.error({\n            title: 'Error',\n            message: 'An error occurred while downloading the images. Try again!',\n            position: 'topRight'\n        });\n        console.error('Błąd pobierania danych:', error);\n        return [];\n    }\n}\n\n\nfunction renderImages(images) {\n    const gallery = document.getElementById('gallery');\n    if (!gallery) return; \n\n    gallery.innerHTML = ''; \n\n    images.forEach(image => {\n        const imgElement = document.createElement('a');\n        imgElement.href = image.largeImageURL;\n        imgElement.classList.add('gallery-item');\n\n        const imageTag = document.createElement('img');\n        imageTag.src = image.webformatURL;\n        imageTag.alt = image.tags;\n        imageTag.classList.add('gallery-image');\n\n        const infoDiv = document.createElement('div');\n        infoDiv.classList.add('image-info');\n        infoDiv.innerHTML = `\n            <div>\n                <span class=\"label\">Likes:</span>\n                <span>${image.likes}</span>\n            </div>\n            <div>\n                <span class=\"label\">Views:</span>\n                <span>${image.views}</span>\n            </div>\n            <div>\n                <span class=\"label\">Comments:</span>\n                <span>${image.comments}</span>\n            </div>\n            <div>\n                <span class=\"label\">Downloads:</span>\n                <span>${image.downloads}</span>\n            </div>\n        `;\n\n        imgElement.appendChild(imageTag);\n        imgElement.appendChild(infoDiv);\n        gallery.appendChild(imgElement);\n    });\n\n  \n    lightbox.refresh();\n}\n\n\nconst lightbox = new SimpleLightbox('.gallery-item', {\n    captionsData: 'alt',\n    captionDelay: 250,\n});\n\n\nasync function handleSearch(event) {\n    event.preventDefault();\n\n    const query = document.getElementById('search-input').value.trim();\n    if (!query) return;\n\n    showLoader();\n    const images = await fetchImages(query);\n    renderImages(images);\n    hideLoader();\n}\n\n\ndocument.addEventListener('DOMContentLoaded', () => {\n    const searchForm = document.getElementById('search-form');\n    if (searchForm) {\n        searchForm.addEventListener('submit', handleSearch);\n    } else {\n        console.error('Element #search-form not found');\n    }\n});\n"],"names":["API_KEY","API_URL","showLoader","loader","hideLoader","fetchImages","query","response","axios","hits","iziToast","error","renderImages","images","gallery","image","imgElement","imageTag","infoDiv","lightbox","SimpleLightbox","handleSearch","event","searchForm"],"mappings":"kHAOA,MAAMA,EAAU,qCACVC,EAAU,2BAGhB,SAASC,GAAa,CAClB,MAAMC,EAAS,SAAS,cAAc,UAAU,EAC5CA,IACAA,EAAO,MAAM,QAAU,OAE/B,CAEA,SAASC,GAAa,CAClB,MAAMD,EAAS,SAAS,cAAc,UAAU,EAC5CA,IACAA,EAAO,MAAM,QAAU,OAE/B,CAGA,eAAeE,EAAYC,EAAO,CAC9B,GAAI,CACA,MAAMC,EAAW,MAAMC,EAAM,IAAIP,EAAS,CACtC,OAAQ,CACJ,IAAKD,EACL,EAAGM,EACH,WAAY,QACZ,YAAa,aACb,WAAY,MACf,CACb,CAAS,EAEK,CAAE,KAAAG,CAAI,EAAKF,EAAS,KAE1B,OAAIE,EAAK,SAAW,GAChBC,EAAS,MAAM,CACX,MAAO,aACP,QAAS,2EACT,SAAU,UAC1B,CAAa,EACM,IAGJD,CACV,OAAQE,EAAO,CACZ,OAAAD,EAAS,MAAM,CACX,MAAO,QACP,QAAS,6DACT,SAAU,UACtB,CAAS,EACD,QAAQ,MAAM,0BAA2BC,CAAK,EACvC,EACV,CACL,CAGA,SAASC,EAAaC,EAAQ,CAC1B,MAAMC,EAAU,SAAS,eAAe,SAAS,EAC5CA,IAELA,EAAQ,UAAY,GAEpBD,EAAO,QAAQE,GAAS,CACpB,MAAMC,EAAa,SAAS,cAAc,GAAG,EAC7CA,EAAW,KAAOD,EAAM,cACxBC,EAAW,UAAU,IAAI,cAAc,EAEvC,MAAMC,EAAW,SAAS,cAAc,KAAK,EAC7CA,EAAS,IAAMF,EAAM,aACrBE,EAAS,IAAMF,EAAM,KACrBE,EAAS,UAAU,IAAI,eAAe,EAEtC,MAAMC,EAAU,SAAS,cAAc,KAAK,EAC5CA,EAAQ,UAAU,IAAI,YAAY,EAClCA,EAAQ,UAAY;AAAA;AAAA;AAAA,wBAGJH,EAAM,KAAK;AAAA;AAAA;AAAA;AAAA,wBAIXA,EAAM,KAAK;AAAA;AAAA;AAAA;AAAA,wBAIXA,EAAM,QAAQ;AAAA;AAAA;AAAA;AAAA,wBAIdA,EAAM,SAAS;AAAA;AAAA,UAI/BC,EAAW,YAAYC,CAAQ,EAC/BD,EAAW,YAAYE,CAAO,EAC9BJ,EAAQ,YAAYE,CAAU,CACtC,CAAK,EAGDG,EAAS,QAAO,EACpB,CAGA,MAAMA,EAAW,IAAIC,EAAe,gBAAiB,CACjD,aAAc,MACd,aAAc,GAClB,CAAC,EAGD,eAAeC,EAAaC,EAAO,CAC/BA,EAAM,eAAc,EAEpB,MAAMhB,EAAQ,SAAS,eAAe,cAAc,EAAE,MAAM,OAC5D,GAAI,CAACA,EAAO,OAEZJ,IACA,MAAMW,EAAS,MAAMR,EAAYC,CAAK,EACtCM,EAAaC,CAAM,EACnBT,GACJ,CAGA,SAAS,iBAAiB,mBAAoB,IAAM,CAChD,MAAMmB,EAAa,SAAS,eAAe,aAAa,EACpDA,EACAA,EAAW,iBAAiB,SAAUF,CAAY,EAElD,QAAQ,MAAM,gCAAgC,CAEtD,CAAC"}